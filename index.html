<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>创造者 Creator OJ系统</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/fortune.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* 用户信息区域 */
        .user-info {
            position: relative;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
        }
        
        .user-info-content {
            display: flex;
            flex-direction: column;
        }
        
        .username {
            font-size: 0.95rem;
            font-weight: 500;
            color: white;
        }
        
        .user-id {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }
    </style>
    <!-- 在 </body> 前添加 -->
<script>
// 立即检查登录状态
if (window.authService) {
  window.authService.updateAuthUI();
}

// 登出功能
document.getElementById('logoutBtn')?.addEventListener('click', async (e) => {
  e.preventDefault();
  const { logout } = await import('./js/auth.js');
  await logout();
  window.location.href = 'index.html';
});
</script>
</head>
<body>
    <!-- 头部导航 -->
    <header>
        <div class="logo">创造者Creator</div>
        <div class="user-area">
            <div class="user-info" id="userInfo" style="display: none;">
                <img src="images/default-avatar.jpg" alt="用户头像" class="user-avatar">
                <div class="user-info-content">
                    <span class="username">用户名</span>
                    <span class="user-id">ID: 00000</span>
                </div>
                <div class="user-dropdown">
                    <a href="#"><i class="fas fa-user"></i> 个人中心</a>
                    <a href="#"><i class="fas fa-cog"></i> 设置</a>
                    <a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> 退出登录</a>
                </div>
            </div>
            <div class="user-actions" id="guestActions">
                <a href="login.html"><i class="fas fa-sign-in-alt"></i> 登录</a>
                <a href="register.html"><i class="fas fa-user-plus"></i> 注册</a>
            </div>
        </div>
    </header>
    
    <!-- 主导航菜单 -->
    <nav>
        <div class="nav-container">
            <ul class="nav-links">
                <li><a href="#"><i class="fas fa-book-open"></i> 主题库</a></li>
                <li><a href="#"><i class="fas fa-trophy"></i> 比赛</a></li>
                <li><a href="#"><i class="fas fa-comments"></i> 讨论</a></li>
                <li><a href="#"><i class="fas fa-ranking-star"></i> 等级排名</a></li>
                <li><a href="#"><i class="fas fa-envelope"></i> 私信</a></li>
            </ul>
        </div>
    </nav>
    
    <!-- 主体内容 - 三栏布局 -->
    <div class="main-container">
        <!-- 最左侧 - 功能菜单 -->
        <aside class="left-sidebar">
            <div class="sidebar-header"><i class="fas fa-tools"></i> 功能菜单</div>
            <ul class="sidebar-menu">
                <li><a href="#"><i class="fas fa-plus-circle"></i> 新建题目</a></li>
                <li><a href="#"><i class="fas fa-eye"></i> 查看我创建的题目</a></li>
                <li><a href="#"><i class="fas fa-paper-plane"></i> 已提交我创建的题目</a></li>
                <li><a href="#"><i class="fas fa-ticket-alt"></i> 工单</a></li>
                <li><a href="#"><i class="fas fa-comments"></i> 讨论</a></li>
            </ul>
        </aside>
        
        <!-- 中间主内容 - 快讯 -->
        <main class="main-content">
            <h2><i class="fas fa-bolt"></i> 快讯</h2>
            
            <div class="news-container">
                <article class="news-item">
                    <h3 class="news-title">系统故障公告</h3>
                    <div class="news-meta">发布于 2025-7-5 | 作者: zhou_zen</div>
                    <div class="news-content">
                        <p>很抱歉，目前OJ仅仅只是有个外表而已，目前登陆注册系统出现大故障，给您带来不便</p>
                    </div>
                </article>
                
                <article class="news-item">
                    <h3 class="news-title">欢迎</h3>
                    <div class="news-meta">发布于 2025-7-5 | 作者: zhou_zen</div>
                    <div class="news-content">
                        <p>Weclome to 创造者Creator.本OJ于2025-7-5开放，感谢您的到来</p>
                    </div>
                </article>
            </div>
        </main>
        
        <!-- 最右侧 - 命运抽签和我的题目 -->
        <aside class="right-sidebar">
            <!-- 命运抽签区域 -->
            <div class="fortune-section">
                <div class="fortune-header">
                    <h3>命运抽签</h3>
                </div>
                <div class="fortune-container">
                    <div class="fortune-result">
                        <div class="fortune-text">点击按钮抽取今日命运</div>
                    </div>
                    <button class="fortune-button">抽取命运</button>
                </div>
            </div>
            
            <!-- 我的题目 -->
            <div class="my-problems">
                <h3><i class="fas fa-list-check"></i> 我的题目（测试）</h3>
                <ul>
                    <li>
                        <a href="#">题目1: 两数之和</a>
                        <div class="problem-meta">
                            <span><i class="fas fa-star"></i> 中等</span>
                            <span><i class="fas fa-clock"></i> 3天前</span>
                        </div>
                    </li>
                    <li>
                        <a href="#">题目2: 反转链表</a>
                        <div class="problem-meta">
                            <span><i class="fas fa-star"></i> 简单</span>
                            <span><i class="fas fa-clock"></i> 1周前</span>
                        </div>
                    </li>
                    <li>
                        <a href="#">题目3: 二叉树遍历</a>
                        <div class="problem-meta">
                            <span><i class="fas fa-star"></i> 困难</span>
                            <span><i class="fas fa-clock"></i> 2周前</span>
                        </div>
                    </li>
                </ul>
            </div>
        </aside>
    </div>
    
    <!-- 页脚 -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="#"><i class="fas fa-info-circle"></i> 关于我们</a>
                <a href="#"><i class="fas fa-question-circle"></i> 帮助中心</a>
                <a href="#"><i class="fas fa-shield-alt"></i> 隐私政策</a>
                <a href="#"><i class="fas fa-file-contract"></i> 服务条款</a>
            </div>
            <div class="copyright">
                &copy; 2025 创造者Creator OJ系统 - 版权所有
            </div>
        </div>
    </footer>
    <script src="js/auth.js"></script>
    <script src="js/fortune.js"></script>
</body>
</html>
